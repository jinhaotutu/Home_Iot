/*
*********************************************************************************************************
* Filename      : task_led.c
* Version       : V1.00
* Programmer(s) : DC
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                             INCLUDE FILES
*********************************************************************************************************
*/
#include "stm32f4xx.h"
#include "ucos_ii.h"

#include "stdio.h"

/*
*********************************************************************************************************
*                                            LOCAL DEFINES
*********************************************************************************************************
*/
#define LED_RED_OFF 		GPIO_SetBits(GPIOE,GPIO_Pin_0);
#define LED_RED_ON			GPIO_ResetBits(GPIOE,GPIO_Pin_0);

#define LED_GREEN_OFF 		GPIO_SetBits(GPIOE,GPIO_Pin_1);
#define LED_GREEN_ON 		GPIO_ResetBits(GPIOE,GPIO_Pin_1);

/*
*********************************************************************************************************
*                                       LOCAL GLOBAL VARIABLES
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                         FUNCTION PROTOTYPES
*********************************************************************************************************
*/

/***
 * 函数名称 : APP_TASK_GREEN();
 *
 * 函数描述 : 绿灯任务;
 *
 * 传递值	  : 无;
 *
 * 返回值   : 无;
 *
 **/
void APP_TASK_GREEN(void *p_arg)
{
	for (;;)
	{
		/* 红灯亮 */
		LED_GREEN_ON;
		
		/* 延时0.5s，并任务切换 */
		OSTimeDly(1000);
		
		/* 红灯灭 */
		LED_GREEN_OFF;
		
		/* 延时0.5s，并任务切换 */
		OSTimeDly(1000);
	}
}

/***
 * 函数名称 : APP_TASK_RED();
 *
 * 函数描述 : 红灯任务;
 *
 * 传递值	  : 无;
 *
 * 返回值   : 无;
 *
 **/
void APP_TASK_RED(void *p_arg)
{
	for (;;)
	{
		/* 红灯亮 */
		LED_RED_ON;
		
		/* 延时0.25s，并任务切换 */
		OSTimeDly(250);
		
		/* 红灯灭 */
		LED_RED_OFF;
		
		/* 延时0.25s，并任务切换 */
		OSTimeDly(250);
	}
}


